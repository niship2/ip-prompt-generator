import type { TaskCategory } from './types';

export const TASK_CATEGORIES: TaskCategory[] = [
  {
    id: 'investigation-analysis',
    label: '1. 調査・分析業務',
    tasks: [
      {
        id: 'idea-generation',
        label: 'アイデア創出の壁打ち支援',
        inputs: [
          { id: 'theme', label: '技術テーマ・課題', type: 'textarea', placeholder: '例：家庭内での食品ロスを削減する新しい方法', required: true, rows: 4 },
          { id: 'constraints', label: '制約条件・キーワード', type: 'text', placeholder: '例：IoT活用, 低コスト, 高齢者でも使いやすい', required: false },
        ],
        promptTemplate: (data) => `# Role
あなたは、経験豊富なイノベーションコンサルタントです。斬新な発想と論理的な思考を組み合わせ、革新的なアイデアを生み出すことを専門としています。

# Goal
以下の技術テーマに関するブレインストーミングのパートナーとして、既存の枠組みにとらわれない、多様で実現可能性のあるアイデアを複数提案し、イノベーションの種を見つけ出すことが目的です。

# Context
- **技術テーマ・課題**: ${data.theme}
- **制約条件・キーワード**: ${data.constraints || '特になし'}

# Instructions
1.  まず、提供された「技術テーマ・課題」を多角的に分析し、問題の本質を再定義してください。
2.  その上で、課題を解決するための全く異なるアプローチを5つ提案してください。各アプローチには、具体的な技術要素と、なぜそれが有効であるかの簡単な根拠を含めてください。
3.  次に、提案した5つのアプローチとは別に、非常にユニークで、一見すると突飛に思えるようなアイデアを3つ追加で提案してください。
4.  すべてのアイデアについて、簡潔なタイトル、概要、想定されるメリット、そして潜在的な課題をリスト形式で記述してください。

# Quality Guidelines
- 既存の解決策の延長線上ではない、革新的な視点を重視してください。
- 抽象的な概念だけでなく、具体的な実現方法にまで踏み込んで考察してください。

# Note on Model Configuration
このタスクは創造性を要するため、LLMのTemperatureを0.9、Top-Pを0.99のように高めに設定することを推奨します。`,
      },
      {
        id: 'prior-art-search',
        label: '先行技術調査の補助',
        inputs: [
          { id: 'inventionSummary', label: '発明の概要', type: 'textarea', placeholder: '解決したい課題、その解決手段、発明の効果を具体的に記述してください。', required: true, rows: 5 },
          { id: 'technicalField', label: '技術分野', type: 'text', placeholder: '例：情報通信、半導体製造装置', required: true },
        ],
        promptTemplate: (data) => `# Role
あなたは、主要国の特許データベースと審査基準に精通した、先行技術調査の専門家（パテントサーチャー）です。

# Goal
以下の発明の新規性・進歩性を評価するための、網羅的かつ効率的な先行技術調査の戦略を立案することが目的です。

# Context
- **発明の概要**: ${data.inventionSummary}
- **技術分野**: ${data.technicalField}

# Instructions (Chain of Thought)
以下の思考プロセスに従って、調査戦略を段階的に生成してください。
1.  **発明の核心概念の特定**: 提供された「発明の概要」から、技術的な核心となる構成要素や概念を複数抽出してください。
2.  **キーワードの展開**: 特定した核心概念に基づき、関連するキーワードを生成します。日本語と英語の両方で、類義語、上位概念、下位概念を考慮して、それぞれ10個以上提案してください。
3.  **特許分類の選定**: 発明の技術分野と核心概念から、最も関連性が高いと考えられる国際特許分類（IPC）およびFIを5つ提案してください。選定理由も簡潔に付記してください。
4.  **検索式の構築**: 上記で生成したキーワードと特許分類を効果的に組み合わせた、J-PlatPatやGoogle Patentsで利用可能な検索式の候補を3つ提案してください。検索式は、AND, OR, NOTなどの演算子を適切に使用し、徐々に範囲を狭めるような戦略的なものにしてください。

# Output Format
最終的な出力は、以下のJSON形式で構造化してください。
\`\`\`json
{
  "core_concepts": ["(核心概念1)", "(核心概念2)"],
  "keywords_jp": ["(キーワード1)", "(キーワード2)"],
  "keywords_en": ["(keyword1)", "(keyword2)"],
  "classifications": [
    {"code": "(IPC/FI)", "reason": "(選定理由)"}
  ],
  "search_queries": [
    {"platform": "J-PlatPat", "query": "(検索式1)"},
    {"platform": "Google Patents", "query": "(検索式2)"}
  ]
}
\`\`\``,
      },
      {
        id: 'document-summary',
        label: '文献の要約とスクリーニング',
        inputs: [
          { id: 'documentText', label: '要約対象の文献', type: 'textarea', placeholder: '特許公報や論文のテキストをここに貼り付けてください。', required: true, rows: 10 },
          { id: 'viewpoint', label: '要約の観点', type: 'text', placeholder: '例：新規性・進歩性の判断に資する部分、特定の技術要素との関連性', required: true },
        ],
        promptTemplate: (data) => `# Role
あなたは、技術的な複雑さを正確に理解し、要点を抽出する能力に長けた特許アナリストです。

# Goal
以下の文献を、指定された観点から分析し、先行技術としての重要性を迅速に判断するための要約を作成することが目的です。

# Context
- **対象文献**: ${data.documentText}
- **要約の観点**: ${data.viewpoint}

# Instructions (Chain of Thought)
以下の思考プロセスに従って、要約を作成してください。
1.  **文献全体の理解**: まず、文献全体を読み通し、発明が解決しようとする課題、その解決手段、およびもたらされる効果の全体像を把握します。
2.  **技術概要の生成**: 全体像に基づき、文献の技術的な骨子を300字以内で簡潔にまとめてください。
3.  **観点に基づく抽出と要約**: 次に、「${data.viewpoint}」という観点に最も関連する部分を文献中から特定します。その部分を抽出し、なぜそれが重要なのかという理由と共に要約してください。
4.  **重要性の評価**: 最後に、分析結果に基づき、この文献が先行技術として重要である可能性を「高・中・低」の3段階で評価し、その評価に至った根拠を簡潔に述べてください。

# Quality Guidelines
- 要約は客観的な事実に基づいてください。
- 専門用語を正しく使用し、技術内容を正確に伝えてください。`,
      },
      {
        id: 'translation',
        label: '外国語文献の翻訳・理解促進',
        inputs: [
          { id: 'foreignText', label: '翻訳対象の外国語文献', type: 'textarea', placeholder: '外国語の文献テキストをここに貼り付けてください。', required: true, rows: 10 },
          { id: 'technicalContext', label: '技術的な文脈', type: 'text', placeholder: '例：半導体リソグラフィ技術に関する文献', required: false },
        ],
        promptTemplate: (data) => `# Role
あなたは、指定された技術分野「${data.technicalContext || '一般技術'}」に精通した、プロフェッショナルな特許翻訳者です。原文の技術的なニュアンスを損なうことなく、自然で正確な日本語に翻訳する能力を持っています。

# Goal
以下の外国語文献を正確に日本語に翻訳し、専門家でない人でもその技術的な価値と要点を理解できるようにすることが目的です。

# Context
- **対象文献**: ${data.foreignText}
- **技術的な文脈**: ${data.technicalContext || '特になし'}

# Instructions (Chain of Thought)
1.  **全文翻訳**: まず、文献全体を、専門用語の正確性を保ちながら、流暢で自然な日本語に翻訳してください。
2.  **専門用語の注釈**: 翻訳文中で、特に重要または多義的な専門用語が登場した場合、その用語の直後に[注釈：簡単な解説]という形式で補足説明を加えてください。
3.  **核心部分の要約**: 翻訳後、この文献で最も重要だと考えられる技術的な主張や結論を特定し、箇条書きで3点に要約してください。これにより、読み手は文献の核心を素早く把握できます。

# Quality Guidelines
- 逐語訳ではなく、文脈に応じた意訳を心がけてください。
- 特許文献特有の言い回しや表現にも配慮してください。`,
      },
       {
        id: 'tech-trend-report',
        label: '技術動向分析レポートのドラフト作成',
        inputs: [
          { id: 'techField', label: '分析対象の技術分野', type: 'text', placeholder: '例：再生可能エネルギー、量子コンピューティング', required: true },
          { id: 'analysisPeriod', label: '分析対象期間', type: 'text', placeholder: '例：過去5年間', required: false },
          { id: 'keyPatents', label: '主要な特許文献・論文リスト', type: 'textarea', placeholder: '分析の基礎となる文献リストを番号付きで貼り付けてください。', required: true, rows: 6 },

        ],
        promptTemplate: (data) => `# Role
あなたは、技術経営と知財戦略を専門とする、経験豊富な市場アナリストです。データに基づいた洞察と、将来を見通す戦略的視点を併せ持っています。

# Goal
提供された情報に基づき、「${data.techField}」分野における技術動向を分析し、経営層が戦略的な意思決定を行うためのレポートのドラフトを作成することが目的です。

# Context (RAG Input)
- **分析対象技術分野**: ${data.techField}
- **分析対象期間**: ${data.analysisPeriod || '近年'}
- **分析の基礎となる主要文献リスト**:
${data.keyPatents}

# Instructions (Chain of Thought)
以下の思考プロセスと構成案に従って、レポートのドラフトを作成してください。
1.  **計画**: まず、レポート全体の構成を以下の通り計画します。
    -   1. はじめに
    -   2. 技術概要
    -   3. 主要な技術トレンド
    -   4. 主要プレイヤーと出願動向
    -   5. 今後の展望と戦略的示唆
    -   6. まとめ
2.  **実行**: 次に、各セクションの内容を、提供された文献リストを主な情報源として執筆してください。
    -   **はじめに**: 「${data.techField}」分野の現状の重要性と、このレポートの目的を記述します。
    -   **技術概要**: 当該技術分野の基本的な概念を、専門家でなくても理解できるように平易に説明します。
    -   **主要な技術トレンド**: 文献リストから、${data.analysisPeriod || '近年'}における技術的な進展やトレンドを3〜5点抽出し、それぞれを具体的に解説します。
    -   **主要プレイヤー**: 文献リストの出願人情報から、特に活発な企業や研究機関を特定し、その動向や強みを分析します。
    -   **今後の展望**: これまでの分析に基づき、今後注目すべき技術課題や、事業機会、潜在的リスクについて考察し、戦略的な提言を簡潔に述べます。
    -   **まとめ**: レポート全体の要点を3つの箇条書きで簡潔にまとめます。

# Note on Model Configuration
- 現状分析（セクション1-4）では、事実に基づいた記述を促すため、Temperatureを低め（例: 0.2）に設定することを推奨します。
- 将来予測や戦略提案（セクション5）では、多角的な視点を取り入れるため、Temperatureをやや高め（例: 0.7）に設定することを推奨します。`,
      },
    ],
  },
  {
    id: 'application-prosecution',
    label: '2. 出願・権利化業務',
    tasks: [
      {
        id: 'spec-draft',
        label: '明細書ドラフト作成',
        inputs: [
            { id: 'inventionTitle', label: '発明の名称', type: 'text', placeholder: '例：画像処理装置及びその制御方法', required: true },
            { id: 'technicalField', label: '技術分野', type: 'text', placeholder: '本発明が属する技術分野を記述。例：デジタルカメラの画像処理', required: true },
            { id: 'backgroundArt', label: '背景技術', type: 'textarea', placeholder: '従来技術とその問題点を記述。', required: true, rows: 4 },
            { id: 'problemToSolve', label: '発明が解決しようとする課題', type: 'textarea', placeholder: '背景技術の問題点を踏まえ、本発明が何を解決するのかを記述。', required: true, rows: 3 },
            { id: 'solution', label: '課題を解決するための手段', type: 'textarea', placeholder: '課題を解決するための、発明の構成を具体的に記述。', required: true, rows: 5 },
            { id: 'effects', label: '発明の効果', type: 'textarea', placeholder: '発明によってもたらされる有利な効果を記述。', required: true, rows: 2 },
        ],
        promptTemplate: (data) => `# Role
あなたは、長年の実務経験を持つ、非常に優秀な弁理士です。技術への深い理解と、特許法・審査基準に関する正確な知識を兼ね備えています。

# Goal
提供された発明の核心的なアイデアに基づき、権利範囲が広く、かつ明確で、審査を通過しうる高品質な特許明細書の主要セクションのドラフトを作成することが目的です。

# Context
- **発明の名称**: ${data.inventionTitle}
- **技術分野**: ${data.technicalField}
- **背景技術**: ${data.backgroundArt}
- **発明が解決しようとする課題**: ${data.problemToSolve}
- **課題を解決するための手段**: ${data.solution}
- **発明の効果**: ${data.effects}

# Instructions (Chain of Thought)
以下の思考プロセスに従い、各セクションを論理的に関連付けながら作成してください。
1.  **【背景技術】**: まず、提供された「背景技術」を記述し、その従来技術が持つ問題点を明確に指摘します。この問題点が、次の「発明が解決しようとする課題」への自然な導入となるように構成してください。
2.  **【発明が解決しようとする課題】**: 次に、「背景技術」で指摘した問題点を解決することが、本発明の課題であることを明確に宣言します。
3.  **【課題を解決するための手段】**: 「発明が解決しようとする課題」を解決するための具体的な手段として、提供された「課題を解決するための手段」の内容を、特許請求の範囲の記載を意識しつつ、構成要件が明確になるように記述します。
4.  **【発明の効果】**: 最後に、「課題を解決するための手段」によって、どのように「発明が解決しようとする課題」が解決され、その結果としてどのような有利な効果（提供された「発明の効果」を含む）が得られるのかを論理的に説明します。

# Quality Guidelines
- 各セクションは、特許実務の慣行に沿った、論理的で明確な文章で記述してください。
- 全体を通して、用語や表現に一貫性を持たせてください。`,
      },
      {
        id: 'claim-diversification',
        label: 'クレーム（特許請求の範囲）の多角化案生成',
        inputs: [
            { id: 'baseClaim', label: '基本となるクレーム', type: 'textarea', placeholder: '【請求項１】Aと、Bと、Cと、を備える〇〇装置。', required: true, rows: 5 },
            { id: 'inventionConcept', label: '発明の技術思想', type: 'textarea', placeholder: 'クレームの背景にある、発明の核心的なアイデアや目的を記述。', required: true, rows: 3 },
        ],
        promptTemplate: (data) => `# Role
あなたは、豊富な経験と鋭い洞察力を持ち、クライアントの利益を最大化する知財戦略を立案するトップクラスの弁理士です。

# Goal
以下の基本クレームと発明の技術思想を基に、考えうる限りの侵害態様を想定し、権利範囲を多角的かつ強固に確保するためのクレームバリエーション案を生成することが目的です。

# Context
- **基本となるクレーム**: ${data.baseClaim}
- **発明の技術思想**: ${data.inventionConcept}

# Instructions (Chain of Thought)
以下の思考プロセスに従って、多角的なクレーム案を生成してください。
1.  **基本クレームの分析**: まず、基本クレームを構成要件ごとに分解し、それぞれの要件が発明の核心に対してどのような役割を果たしているかを分析します。
2.  **バリエーションの生成**: 次に、以下の各観点について、具体的なクレーム案をそれぞれ3つずつ提案してください。
    -   **上位概念化**: 各構成要件をより広く、抽象的な表現に置き換えることで、権利範囲を拡大する案。他社による迂回設計を防ぐことを目的とします。
    -   **下位概念化**: 構成要件をより具体的に限定したり、特徴的な構成を付加したりすることで、進歩性を高めるための案。強力な先行技術が存在する場合に有効です。
    -   **別カテゴリ化**: 基本クレームが「物」であれば、「方法」「プログラム」「システム」など、別のカテゴリでの権利化を想定した案。発明の異なる側面から保護を図ります。
    -   **視点の転換**: 発明の構成要素の一部を省略したり、別の要素に置き換えたり、使用場面を特定したりするなど、異なる視点からのクレーム案。

# Note on Model Configuration
このタスクは創造的な発想を必要とするため、LLMのTemperatureを0.8のように比較的高めに設定することを推奨します。`,
      },
      {
        id: 'embodiment-generation',
        label: '実施例のバリエーション生成',
        inputs: [
            { id: 'baseEmbodiment', label: '基本となる実施例', type: 'textarea', placeholder: '発明の基本的な実施例の構成や動作を記述。', required: true, rows: 6 },
            { id: 'variationPoints', label: 'バリエーションを生成したい観点', type: 'text', placeholder: '例：材料の変更、構成部品の形状、制御パラメータ', required: true },
        ],
        promptTemplate: (data) => `# Role
あなたは、創造的な発想力と深い技術知識を併せ持つ、優秀な技術開発者です。

# Goal
以下の基本となる実施例を拡張し、特許明細書を充実させ、発明のサポート要件を充足させるとともに、権利範囲の解釈を有利に導くための、多様な実施例のバリエーション案を生成することが目的です。

# Context
- **基本となる実施例**: ${data.baseEmbodiment}
- **バリエーションを生成したい観点**: ${data.variationPoints}

# Instructions (Chain of Thought)
1.  **基本実施例の理解**: まず、提供された「基本となる実施例」の構成、動作、およびその効果を正確に理解します。
2.  **バリエーションの着想**: 次に、「${data.variationPoints}」という観点から、基本実施例をどのように変更・拡張できるかを考えます。
3.  **具体案の生成**: 最後に、具体的なバリエーション案を5つ提案してください。各案について、以下の要素を明確に記述してください。
    -   **バリエーション案の名称**: (例: 「第二実施例：高強度材料を用いた場合」)
    -   **変更点**: 基本実施例から具体的に何を変更したのか。
    -   **期待される追加的効果**: その変更によって、基本実施例の効果に加えて、どのような新しい、または改善された効果が期待できるのか。

# Note on Model Configuration
このタスクは創造性を伴うため、LLMのTemperatureを0.9のように高めに設定することが有効です。`,
      },
      {
        id: 'office-action-response',
        label: '拒絶理由通知への応答補助',
        inputs: [
            { id: 'rejectionReason', label: '拒絶理由の要点', type: 'textarea', placeholder: '審査官が指摘した拒絶理由（例：新規性欠如、進歩性欠如）と、引用文献の内容を簡潔に記述。', required: true, rows: 5 },
            { id: 'claimAtIssue', label: '対象クレーム', type: 'textarea', placeholder: '拒絶理由の対象となったクレームを記述。', required: true, rows: 4 },
            { id: 'counterArgumentPolicy', label: '反論方針の案', type: 'textarea', placeholder: '引用文献と本発明の相違点や、本発明の有利な効果など、反論の骨子となるアイデアを記述。', required: true, rows: 4 },
        ],
        promptTemplate: (data) => `# Role
あなたは、数多くの困難な案件を特許査定に導いてきた、特許庁の審査基準と論理構築に精通したトップ弁理士です。

# Goal
以下の拒絶理由通知の情報と反論方針に基づき、審査官を納得させ、拒絶理由を覆すための、論理的で説得力のある反論骨子を構築することが目的です。

# Context (RAG Input)
- **拒絶理由の要点 (審査官の主張)**: ${data.rejectionReason}
- **対象クレーム**: ${data.claimAtIssue}
- **こちらの反論方針案**: ${data.counterArgumentPolicy}

# Instructions (Chain of Thought)
以下の思考プロセスに従って、意見書で主張すべき反論の骨子を、詳細かつ論理的に組み立ててください。
1.  **認定の確認**: まず、審査官による本願発明の認定と、引用文献に記載された技術の認定を、それぞれ正確に要約します。
2.  **相違点の明確化**: 次に、本願発明（対象クレーム）と引用文献の技術との間に存在する、具体的かつ明確な相違点を複数、箇条書きで指摘します。反論方針案で示された相違点を主軸に、さらに精緻化してください。
3.  **有利な効果の主張**: 指摘した各相違点によってもたらされる、本願発明の有利な効果を具体的に説明します。特に、その効果が引用文献には記載も示唆もされていない「予測できない顕著な効果」であることを強調してください。
4.  **非容易想到性の結論**: 最後に、上記2と3の分析から、「引用文献の技術を基にしても、本願発明の相違点に想到する動機付けはなく、また、本願発明の有利な効果も予測できないため、本願発明は当業者が容易に想到できたものではない」という結論を、説得力をもって導き出してください。

# Quality Guidelines
- 感情的な表現は避け、客観的な事実と論理に基づいて主張を組み立ててください。
- 審査官の主張を尊重しつつ、こちらの主張を明確に伝える丁寧な言葉遣いをしてください。`,
      },
      {
        id: 'argument-draft',
        label: '意見書・補正書案の作成',
        inputs: [
            { id: 'rejectionSummary', label: '拒絶理由の概要', type: 'textarea', placeholder: '拒絶理由通知の主要な指摘事項を要約してください。', required: true, rows: 4 },
            { id: 'argumentPoints', label: '主張したい反論のポイント', type: 'textarea', placeholder: '（例）引用文献１には本願発明の構成要件Bが開示されておらず、両者には明確な相違点がある。', required: true, rows: 4 },
            { id: 'amendmentDetails', label: '補正内容（もしあれば）', type: 'textarea', placeholder: '（例）請求項１の「締結部材」を「ねじ部材」に補正する。', required: false, rows: 3 },
        ],
        promptTemplate: (data) => `# Role
あなたは、説得力のある法的文書を作成する能力に長けた、経験豊富な弁理士アシスタントAIです。

# Goal
提供された情報に基づき、特許庁の審査官に提出するための、形式的に正しく、内容的に説得力のある意見書および（必要であれば）手続補正書のドラフトを作成することが目的です。

# Context (RAG Input)
- **拒絶理由の概要**: ${data.rejectionSummary}
- **主張したい反論のポイント**: ${data.argumentPoints}
- **補正内容**: ${data.amendmentDetails || '補正なし'}

# Instructions (Chain of Thought)
以下の思考プロセスに従って、必要な文書のドラフトを作成してください。
1.  **文書の特定**: まず、補正の有無（「補正内容」に記載があるか）を確認し、作成すべき文書が「意見書」のみか、「手続補正書」と「意見書」の両方かを判断します。
2.  **手続補正書の作成 (補正がある場合)**:
    -   【提出日】【あて先】などの定型項目を記載します。
    -   【補正の内容】として、提供された補正内容を正確に反映させます。
3.  **意見書の作成**:
    -   **構成の計画**: 意見書を「1. 事件の表示」「2. 拒絶理由の要点」「3. 本願発明の要点」「4. 拒絶理由に対する見解」「5. まとめ」の構成で作成することを計画します。
    -   **各セクションの執筆**:
        -   「2. 拒絶理由の要点」では、審査官の指摘を簡潔にまとめます。
        -   「4. 拒絶理由に対する見解」では、「主張したい反論のポイント」を基に、論理的かつ説得力のある反論を展開します。補正がある場合は、その補正によって拒絶理由が解消された点を明確に主張に結びつけます。
        -   「5. まとめ」で、結論として本願発明は特許されるべきである旨を力強く述べます。

# Output Format
- 各文書は、特許庁への提出書類として適切なフォーマットで作成してください。`,
      },
    ],
  },
  {
    id: 'rights-utilization',
    label: '3. 権利活用・管理業務',
    tasks: [
      {
        id: 'contract-draft',
        label: '契約書のドラフト作成',
        inputs: [
          { id: 'contractType', label: '契約書の種類', type: 'text', placeholder: '例：秘密保持契約書(NDA), ライセンス契約書', required: true },
          { id: 'partyA', label: '当事者（甲）', type: 'text', placeholder: '例：株式会社〇〇', required: true },
          { id: 'partyB', label: '当事者（乙）', type: 'text', placeholder: '例：△△大学', required: true },
          { id: 'purpose', label: '契約の目的・背景', type: 'textarea', placeholder: '例：共同研究開発の検討のため、甲の保有する技術情報を乙に開示する。', required: true, rows: 3 },
          { id: 'keyTerms', label: '含めたい主要な条件', type: 'textarea', placeholder: '例：秘密情報の定義、有効期間、損害賠償', required: true, rows: 4 },
        ],
        promptTemplate: (data) => `# Role
あなたは、企業法務、特に知的財産関連の契約実務に深い知見を持つ、ベテランの弁護士です。

# Goal
提供された情報に基づき、当事者間のリスクを適切に配分し、将来の紛争を予防するための、網羅的かつ明確な${data.contractType}のドラフトを作成することが目的です。

# Context (RAG Input)
- **契約書の種類**: ${data.contractType}
- **当事者（甲）**: ${data.partyA}
- **当事者（乙）**: ${data.partyB}
- **契約の目的・背景**: ${data.purpose}
- **含めたい主要な条件**: ${data.keyTerms}

# Instructions (Chain of Thought)
以下の思考プロセスに従い、契約書のドラフトを作成してください。
1.  **基本構造の設計**: まず、一般的な${data.contractType}の標準的な条項（例：前文、目的、定義、秘密保持義務、権利の帰属、期間、解除、損害賠償、準拠法、管轄裁判所など）をリストアップし、契約書の骨格を設計します。
2.  **主要条件の反映**: 次に、提供された「含めたい主要な条件」を、設計した骨格の中の適切な条項に具体的に落とし込みます。
3.  **条文の起案**: 各条項について、法的安定性と明確性を確保しながら、具体的な文言を起案します。特に、定義条項（例：「秘密情報」の範囲）は、契約の目的と照らして過不足なく設定することが重要です。
4.  **全体レビュー**: 最後に、起案したすべての条項が相互に矛盾しないか、契約の目的に沿っているか、当事者間の公平性が保たれているかを確認します。

# Quality Guidelines
- 曖昧な表現を避け、一義的に解釈できる明確な言葉遣いをしてください。
- 契約の種類に応じた、標準的かつ網羅的な条項を含めてください。`,
      },
      {
        id: 'warning-letter-draft',
        label: '警告状・回答書の文案作成',
        inputs: [
          { id: 'documentType', label: '作成する文書の種類', type: 'text', placeholder: '警告状 または 回答書', required: true },
          { id: 'ourRight', label: '自社の権利', type: 'text', placeholder: '例：特許第〇〇号「△△に関する発明」', required: true },
          { id: 'opponentProduct', label: '相手方の製品・行為', type: 'textarea', placeholder: '権利を侵害していると思われる相手方の製品名や型番、行為内容を具体的に記述。', required: true, rows: 3 },
          { id: 'demand', label: '要求事項 / 回答方針', type: 'textarea', placeholder: '例：侵害行為の即時中止、損害賠償の請求、協議の申し入れ', required: true, rows: 2 },
        ],
        promptTemplate: (data) => `# Role
あなたは、知的財産紛争に関する交渉・訴訟の経験が豊富で、戦略的な文書作成を得意とする弁理士・弁護士です。

# Goal
以下の情報に基づき、${data.documentType === '警告状' ? '相手方の行動を促し、こちらの要求を実現するための、戦略的かつ効果的な警告状' : 'こちらの立場を明確に伝え、紛争の不必要な激化を避けつつ、有利な解決を目指すための、冷静かつ適切な回答書'}の文案を作成することが目的です。

# Context (RAG Input)
- **作成する文書**: ${data.documentType}
- **自社の権利**: ${data.ourRight}
- **相手方の製品・行為**: ${data.opponentProduct}
- **要求事項 / 回答方針**: ${data.demand}

# Instructions (Chain of Thought)
1.  **戦略の決定**: ${data.documentType === '警告状' ? 'まず、侵害の事実を明確かつ客観的に指摘し、要求事項を提示するという基本戦略を立てます。' : 'まず、相手方の主張を正確に理解し、それに対するこちらの見解（非侵害、無効の主張など）を固め、今後の対応方針を決定します。'}
2.  **構成の立案**: 次に、文書全体の構成を考えます。（例：前文、権利の特定、侵害行為の指摘、要求事項、結び）
3.  **文案の作成**: 構成に従い、具体的な文案を作成します。
    -   **トーン**: ${data.documentType === '警告状' ? '冷静かつ毅然とした、丁寧語を用いたビジネス文書のトーンを維持します。感情的な表現や高圧的な態度は避けてください。' : '相手方の主張に敬意を払いつつも、こちらの立場は明確に主張する、冷静かつ丁寧なトーンを維持します。'}
    -   **必須要素**: 権利（特許番号など）、侵害行為、要求事項（回答期限を含む）を明確に記載します。

# Quality Guidelines
- 法的に正確で、論理的で一貫性のある主張をしてください。`,
      },
      {
        id: 'ip-education-content',
        label: '知財教育コンテンツの作成',
        inputs: [
            { id: 'theme', label: 'テーマ', type: 'text', placeholder: '例：特許の基本とビジネスにおける重要性', required: true },
            { id: 'audience', label: '対象者', type: 'text', placeholder: '例：技術部門の新入社員', required: true },
            { id: 'format', label: 'コンテンツ形式', type: 'text', placeholder: '例：研修資料（スライド形式）、社内ブログ記事', required: true },
            { id: 'keyPoints', label: '含めたい要点', type: 'textarea', placeholder: '箇条書きで3〜5点ほど記述。例：\n- 特許とは何か\n- なぜ特許が重要か\n- 日常業務で気をつけること', required: true, rows: 5 },
        ],
        promptTemplate: (data) => `# Role
あなたは、知財の専門家であり、教育者としても高いスキルを持っています。複雑な知的財産の概念を、指定された対象者に合わせて、非常に分かりやすく、かつ魅力的に説明することができます。

# Goal
提供された情報に基づき、「${data.audience}」が知財の重要性を理解し、実務に活かせるようになるための、高品質な「${data.format}」の構成案と主要部分のドラフトを作成することが目的です。

# Context
- **テーマ**: ${data.theme}
- **対象者**: ${data.audience}
- **コンテンツ形式**: ${data.format}
- **含めたい要点**:
${data.keyPoints}

# Instructions (Chain of Thought)
以下の思考プロセスに従って、教育コンテンツのドラフトを作成してください。
1.  **コンテンツの全体構成案の作成**: まず、テーマと対象者を考慮し、最も学習効果が高いと考えられるコンテンツの章立て（目次）を提案してください。導入からまとめまで、論理的な流れになるように構成してください。
2.  **導入部分の執筆**: 次に、対象者の興味を引きつけ、なぜこのテーマを学ぶ必要があるのかを理解させるための、魅力的な導入部分を執筆してください。
3.  **主要な要点の解説**: 「含めたい要点」で示された各ポイントについて、それぞれを独立したセクションとして、対象者が理解しやすいように平易な言葉と具体例を用いて解説してください。比喩やストーリーテリングを効果的に活用してください。
4.  **まとめと次のステップの提示**: 最後に、コンテンツ全体の要点を簡潔にまとめ、対象者が次に行うべきアクションや、さらに学習を深めるための方法を提示してください。

# Quality Guidelines
- 専門用語の使用は最小限に留め、使用する場合は必ず簡単な解説を加えてください。
- 対象者の日常業務や関心事に関連する、身近で具体的な事例を豊富に盛り込んでください。

# Note on Model Configuration
教育効果を高めるための創造的な表現（比喩、事例など）が求められるため、LLMのTemperatureを0.7のようにやや高めに設定することが有効です。`,
      },
    ],
  },
];
